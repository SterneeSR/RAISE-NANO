{% extends "base.html" %}
{% load static %}

{% block content %}
<body class="dashboard-body">

<div class="dashboard-page">
    <aside class="dashboard-sidebar">
        <div class="sidebar-user-profile">
            <div class="profile-avatar">
                <!-- Placeholder for user avatar image -->
            </div>
            <div class="profile-info">
                <span class="profile-name">{{ user.first_name|default:user.username }}</span>
                <span class="profile-email">{{ user.email }}</span>
            </div>
        </div>
        <nav class="sidebar-nav">
            <a href="{% url 'users:profile' %}" class="nav-link {% if request.resolver_match.url_name == 'profile' %}active{% endif %}">
                <i class="fa-solid fa-user-circle"></i> Profile
            </a>
            <a href="{% url 'cart:cart_detail' %}" class="nav-link {% if request.resolver_match.url_name == 'cart_detail' %}active{% endif %}">
                <i class="fa-solid fa-cart-shopping"></i> Cart
            </a>
            <a href="{% url 'favorites:favorites_list' %}" class="nav-link {% if request.resolver_match.url_name == 'favorites_list' %}active{% endif %}">
                <i class="fa-solid fa-heart"></i> Favorites
            </a>
            <a href="{% url 'orders:order_list' %}" class="nav-link {% if request.resolver_match.url_name == 'order_list' %}active{% endif %}">
                <i class="fa-solid fa-box-archive"></i> Orders
            </a>
            <a href="{% url 'users:address_book' %}" class="nav-link {% if 'address' in request.resolver_match.url_name %}active{% endif %}">
                <i class="fa-solid fa-map-location-dot"></i> Addresses
            </a>
        </nav>
        <div class="sidebar-footer">
            <a href="{% url 'home:home' %}" class="nav-link"><i class="fa-solid fa-house"></i> Home</a>
            <form action="{% url 'users:logout' %}" method="post" style="margin: 0;">
                {% csrf_token %}
                <button type="submit" class="nav-link logout-btn">
                    <i class="fa-solid fa-arrow-right-from-bracket"></i> Logout
                </button>
            </form>
        </div>
    </aside>

    <main class="dashboard-content">
        {% block dashboard_content %}{% endblock %}
    </main>
</div>

<!-- Mobile Bottom Navigation for Dashboard -->
<nav class="mobile-nav">
    <a href="{% url 'users:profile' %}" class="mobile-nav-item {% if request.resolver_match.url_name == 'profile' %}active{% endif %}" aria-label="Profile">
        <i class="fa-solid fa-user"></i>
    </a>
    <a href="{% url 'cart:cart_detail' %}" class="mobile-nav-item {% if request.resolver_match.url_name == 'cart_detail' %}active{% endif %}" aria-label="Cart">
        <i class="fa-solid fa-cart-shopping"></i>
    </a>
    <a href="{% url 'favorites:favorites_list' %}" class="mobile-nav-item {% if request.resolver_match.url_name == 'favorites_list' %}active{% endif %}" aria-label="Favorites">
        <i class="fa-solid fa-heart"></i>
    </a>
    <a href="{% url 'orders:order_list' %}" class="mobile-nav-item {% if request.resolver_match.url_name == 'order_list' %}active{% endif %}" aria-label="Orders">
        <i class="fa-solid fa-box-archive"></i>
    </a>
</nav>
</body>
{% endblock %}
