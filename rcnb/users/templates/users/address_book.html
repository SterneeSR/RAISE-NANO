{% extends "users/dashboard.html" %}

{% block dashboard_content %}
<h1 class="page-header">Addresses</h1>

<div class="address-grid">
    <div class="card">
        <h3>Saved Addresses</h3>
        <div class="address-list">
            {% for address in addresses %}
                <div class="address-item">
                    <p><strong>{{ address.full_name }}</strong></p>
                    <p>{{ address.address_line_1 }}, {% if address.address_line_2 %}{{ address.address_line_2 }}, {% endif %}<br>
                    {{ address.city }}, {{ address.state }} - {{ address.pincode }}</p>
                    <p>Phone: {{ address.phone }}</p>
                    <div class="address-actions">
                        <a href="{% url 'users:edit_address' address.id %}">Edit</a>
                        <form action="{% url 'users:delete_address' address.id %}" method="post" style="display: inline;">
                            {% csrf_token %}
                            <button type="submit" class="danger-link" style="background:none; border:none; padding:0; font-size: 0.875rem; cursor:pointer;">Delete</button>
                        </form>
                    </div>
                </div>
            {% empty %}
                <p>You have no saved addresses.</p>
            {% endfor %}
        </div>
    </div>

    <div class="card">
        <h3>Add a New Address</h3>
        <form method="post">
            {% csrf_token %}
            {% for field in form %}
                <div class="form-group">
                    {{ field }}
                </div>
            {% endfor %}
            <button type="submit" class="save-btn">Save Address</button>
        </form>
    </div>
</div>
{% endblock %}
