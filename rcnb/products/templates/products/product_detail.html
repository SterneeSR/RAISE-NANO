{% extends "base.html" %}

{% block content %}
<div class="container" style="padding-top: 5rem; padding-bottom: 5rem; color: #333;">
    
    <h1>Temporary Product Detail Page</h1>
    <p>If you are seeing this, your template is now being found correctly. âœ…</p>
    
    <hr style="margin-top: 2rem; margin-bottom: 2rem;">

    {% if p %}
        <h2>Product Name: {{ p.name }}</h2>
        <p><strong>Startup:</strong> {{ p.startup.name }}</p>
        <p><strong>Price:</strong> {{ p.price }}</p>
        <p><strong>Description:</strong></p>
        <div style="background-color: #f8f9fa; padding: 1rem; border-radius: 5px;">
            <p>{{ p.description|linebreaks }}</p>
        </div>

        <h3 style="margin-top: 2rem;">Image Test</h3>
        {% if p.image %}
            <p>The image should appear below, served from Cloudinary.</p>
            <p><strong>Generated Image URL:</strong> <a href="{{ p.image.url }}" target="_blank">{{ p.image.url }}</a></p>
            <img src="{{ p.image.url }}" alt="Image for {{ p.name }}" style="max-width: 400px; height: auto; border: 1px solid #ddd; padding: 5px;">
        {% else %}
            <p style="color: #dc3545;">No image is associated with this product.</p>
        {% endif %}
        
    {% else %}
        <p style="color: #dc3545;"><strong>Error:</strong> The product context ('p') was not provided to the template.</p>
    {% endif %}

</div>
{% endblock %}