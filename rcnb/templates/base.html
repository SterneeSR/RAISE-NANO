{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}RCN{% endblock title %}</title>
    <link rel="icon" href="{% static 'images/20250704_111421.png' %}" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <script src="https://unpkg.com/lucide@latest"></script>

    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
</head>
{% block body_class %}{% endblock %}

<body class="{% if body_class %}{{ body_class }}{% else %}default-body{% endif %}">

    {% if 'users/' not in request.path and 'cart/' not in request.path and 'favorites/' not in request.path and 'orders/' not in request.path %}
    <header id="main-header">
        <div class="header-content">
            <div class="logo-container">
                <a href="{% url 'home:home' %}" aria-label="Go to Homepage">
                    <img src="{% static 'images/RCN-Logo.png' %}" alt="RAISE Centre Logo" class="rcn-logo-large">
                    <img src="{% static 'images/RCN-Logo-2.png' %}" alt="RAISE Centre Compact Logo" class="rcn-logo-compact">
                </a>
            </div>
            
            <nav class="navbar">
                <ul class="nav-menu">
                    <li><a href="{% url 'home:home' %}">Home</a></li>
                    <li class="dropdown-parent">
                        <a href="{% url 'home:team' %}">Our Team</a>
                    </li>
                    <li><a href="{% url 'startups:startups' %}">Our Startups</a></li>
                    <li><a href="{% url 'home:membership' %}">Membership</a></li>
                    <li><a href="{% url 'products:product_list' %}">Products</a></li>
                    <li><a href="{% url 'home:contact' %}">Contact Us</a></li>
                    <li class="profile-item-desktop">
                        {% if user.is_authenticated %}
                            <a href="{% url 'users:profile' %}" aria-label="Profile">
                                <i data-lucide="user-round"></i>
                            </a>
                        {% else %}
                             <a href="{% url 'users:login' %}" aria-label="Login">
                                <i data-lucide="log-in"></i>
                            </a>
                        {% endif %}
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <a href="{% if user.is_authenticated %}{% url 'users:profile' %}{% else %}{% url 'users:login' %}{% endif %}" class="profile-icon-mobile" aria-label="Profile or Login">
        <i data-lucide="user-round"></i>
    </a>
    <div id="circleToggle" class="circle-toggle" role="button" aria-expanded="false" aria-controls="mobileNav" aria-label="Toggle Menu">
        <div class="circle-toggle-row">
            <span class="circle"></span><span class="circle"></span>
        </div>
        <div class="circle-toggle-row">
            <span class="circle"></span><span class="circle"></span>
        </div>
    </div>
    {% endif %}

    <main>
        {% block content %}{% endblock content %}
    </main>

    {% if 'users/' not in request.path and 'cart/' not in request.path and 'favorites/' not in request.path and 'orders/' not in request.path %}
    <footer class="footer" id="footer">
        <div class="footer-container">
            <div class="footer-col">
                <img src="{% static 'images/RCN.png' %}" alt="RCN Footer Logo" class="footer-logo">
                <p>A premier global hub connecting experts in science, technology, and innovation to drive breakthroughs in the nanobiotechnology field.</p>
            </div>
            <div class="footer-col">
                <h4>Mission</h4>
                <ul>
                    <li><a href="{% url 'home:home' %}#AboutCentre">About us</a></li>
                    <li><a href="{% url 'home:team' %}">Our Team</a></li>
                    <li><a href="{% url 'home:contact' %}">Contact</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>Ecosystem</h4>
                <ul>
                    <li><a href="{% url 'home:team' %}#Mentors">Mentors</a></li>
                    <li><a href="{% url 'home:home' %}#Partners">Partners</a></li>
                </ul>
            </div>
            <div class="footer-col contact-info">
                <h4>Contact</h4>
                <p><i class="fas fa-envelope"></i> rcn@aicraise.com</p>
                <p><i class="fas fa-phone"></i>88706 97986</p>
                <p><i class="fas fa-map-marker-alt"></i> AIC Raise Business Incubator, Rathinam Techzone, Eachanari, Coimbatore - 641 021.</p>
            </div>
        </div>
    </footer>
    <div class="copyright">
        <p>Copyright Â© 2024 Startup Incubation Centre | All Rights Reserved.</p>
    </div>
    {% endif %}

    {% if messages %}
    <div class="messages-container">
        {% for message in messages %}
            <div class="message-box {{ message.tags }}">
                {{ message }}
            </div>
        {% endfor %}
    </div>
    {% endif %}

    {% block extra_js %}
    <script>
        // Pass static path for mobile footer logo to JavaScript
        const mobileFooterLogoUrl = "{% static 'images/RCN-Logo-2.png' %}";
    </script>
    <script src="{% static 'js/main.js' %}"></script>
    {% endblock %}

</body>
</html>